 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
 <html lang="en"> 
     <head> 
         <title>Cartesian Coordinates Map</title> 
         <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
         <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"> 
         <style type="text/css"> 
         body {background-color: #f0f8ff;}
         #chartContainer{ overflow: hidden; }
         .chart-options{ display:none; }
         .chart-options{ padding:10px 0 10px 0; background-color:#e6eef2; border:1px solid silver; }
         .options-row{ margin:0 10px 10px 10px }
         .options-row>label:first-child, .options-row detail{ color:#13369f; font-weight:bold; }
         .options-row input[type='radio']{ margin:5px }
         p.help-block{ font-size:11px; color:#666; font-style:oblique; margin-top:0; }
         .main-content{ margin: 5px; }
         .options-row label{ font-weight: normal; }
         input[type=checkbox]{ margin-right:5px; }
         label.option-section{ border-bottom: solid 1px #e6e9eb; width: 100 % ; }
         .chart-column{ padding-top: 20px; padding-bottom: 30px; border-left: 1px solid #ddd; }
         .print-section a{ padding-right: 20px; text-decoration: none; }
         .cluster-selection{ border-bottom: dashed 1px #e6e9eb; }
         .cluster-selection label{ white-space: nowrap; color: #313030; }
         #id_display_count { margin:10px; }
         fieldset { margin-top: 10px; }
         @media print{ title, #banner,.chart-options-section{ display: none; } #chartContainer{ margin: 20px; }.chart-column{ border-left: 0; } }
         </style> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/jquery/jquery-1.12.4/jquery-1.12.4.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/jQuery.resizeEnd.js'></script> 
         <script type="text/javascript"> 
             jQuery.noConflict(); 
         </script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/mootools-1.6.0/MooTools-Core-1.6.0.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/clusterchart-1.2.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/mootools-1.6.0/MooTools-More-1.6.0.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/FileSaver-2014-06-24.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/Blob-2014-07-24.js'></script> 
         <script type='text/javascript' src='https://www.satscan.org/javascript/clustercharts/canvas-toBlob-2016-05-26.js'></script> 
         <script type='text/javascript' src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script> 
         <script type='text/javascript'> 
          var clusters = [ 
             { id: 1, significant : true, highrate : true, hierarchical : true, gini : false, ellipse : false, x : -49,373952, y : -6,103525, z : 1,984041, semimajor : 0,000000, angle : 0,00, shape : 0,00, color : '#F13C3F', pointscolor : '#FF1A1A', tip : '<div style="text-decoration:underline; ">Cluster 1</div>Time frame : 2017/1/1 to 2019/12/31<br>Number of cases : 722<br>Expected cases : 322,07<br>Observed / expected : 2,24<br>P-value : < 0,00000000000000001<br>', edges : [], points : [[-49,245435, -6,069645],[-49,624611, -6,228930],[-49,011769, -6,541035],[-48,748223, -6,189251],[-49,569770, -6,838887],[-50,085674, -6,424206],[-48,730594, -5,657595],[-50,016960, -5,629800],[-49,635269, -6,917778],[-48,696792, -5,447323],[-48,431889, -5,735507],[-48,370184, -5,927267],[-49,869706, -5,114824],[-50,489772, -6,151734],[-49,230771, -4,981070],[-48,763514, -5,054267],[-50,430155, -6,772979],[-49,895143, -7,340633],[-49,576031, -7,548323],[-48,424601, -4,957319],[-49,181198, -4,598533],[-50,123622, -7,736975],[-48,460037, -4,516927],[-50,271610, -4,502843],[-50,634416, -7,486384]] },
{ id: 2, significant : true, highrate : true, hierarchical : true, gini : false, ellipse : false, x : -48,146897, y : -2,419367, z : 1,868922, semimajor : 0,000000, angle : 0,00, shape : 0,00, color : '#F13C3F', pointscolor : '#FF1A1A', tip : '<div style="text-decoration:underline; ">Cluster 2</div>Time frame : 2007/1/1 to 2013/12/31<br>Number of cases : 1430<br>Expected cases : 1009,06<br>Observed / expected : 1,42<br>P-value : < 0,00000000000000001<br>', edges : [], points : [[-48,267625, -2,636126],[-47,921546, -2,805778],[-47,726353, -2,231179],[-48,411450, -2,035386],[-47,974657, -1,881720],[-47,771487, -1,882565],[-47,512783, -1,991013],[-48,736701, -2,907819],[-48,089877, -1,632969],[-47,603151, -3,203450],[-47,399859, -1,811536],[-49,074042, -2,683911],[-47,922670, -1,464677],[-47,233396, -2,042165],[-48,883069, -1,730257],[-47,610773, -1,551532],[-48,319790, -1,397450],[-48,634231, -1,498618],[-49,130745, -2,062706],[-48,129307, -1,365207],[-48,275620, -1,339618],[-47,075977, -2,168306],[-48,383544, -1,334077],[-47,876981, -1,268515],[-47,521642, -1,374485],[-48,459911, -1,240719],[-48,250517, -1,194336],[-46,900043, -2,392644],[-47,746844, -1,206000],[-48,182765, -1,093256],[-49,466382, -2,576689],[-47,302280, -1,387337],[-47,139196, -1,495919],[-49,513572, -2,253062],[-47,565988, -1,145018],[-49,469137, -1,864269],[-46,926917, -1,656634],[-47,848294, -1,002593],[-47,392148, -1,156443],[-48,104929, -0,933415],[-48,273719, -0,935846],[-47,493609, -3,809840],[-47,271982, -1,130711],[-48,025733, -0,864925],[-47,964466, -0,870468],[-49,309250, -1,355675],[-49,077282, -1,117508],[-47,117901, -1,142084],[-47,709813, -0,837413],[-47,635210, -0,809852],[-48,629984, -0,796624],[-47,863883, -0,742743],[-49,698980, -3,129827],[-47,332947, -0,913344],[-48,877241, -0,869424]] } 
             ]; 
             var chart = null; 
             var parameters = {scanrate:1/*high=1,low=2,highorlow=3*/,giniscan:false};
             var cluster_region = {zmin:0,zmax:1,xsteps:11,ysteps:10,bubbleSize:8,xmin:-54,000000,xmax:-44,000000,ymin:-9,000000,ymax:0,000000}; 
             var cluster_region_points = [[-50,725905, -0,262841],[-53,886683, -6,486172],[-49,961391, -0,827133],[-51,301278, -3,997185],[-46,507416, -1,104712],[-50,181767, -2,373143],[-46,763581, -1,193086],[-52,685405, -3,292106],[-49,371220, -3,733484],[-50,628146, -1,120905],[-46,443214, -1,988674],[-49,837892, -0,032401],[-49,512708, -8,182491],[-51,221037, -8,458172],[-49,988034, -1,583462],[-47,898112, -4,186576],[-49,005718, -4,027193],[-51,553921, -1,149438],[-47,497441, -0,810135],[-53,194998, -3,160213],[-51,103864, -1,607632],[-49,902330, -2,278919],[-51,430936, -7,520545],[-50,631681, -3,684126],[-50,955624, -2,565429],[-52,547751, -2,184593],[-53,660172, -2,120245],[-47,131474, -0,952687],[-47,015531, -0,860089],[-50,198124, -8,069329],[-47,351702, -0,683955],[-49,313859, -0,583350],[-50,314370, -8,633788],[-52,252698, -7,233365],[-47,217873, -0,783801],[-49,680283, -1,434118],[-51,773849, -4,169711],[-48,697751, -0,447918],[-46,938977, -1,040967],[-51,391386, -6,820196],[-49,821134, -3,856279],[-53,807336, -3,583616],[-46,453033, -1,523163],[-51,973974, -3,135268]]; 
             var entire_region = {zmin:0,zmax:1,xsteps:16,ysteps:13,bubbleSize:8,xmin:-58,000000,xmax:-43,000000,ymin:-11,000000,ymax:1,000000}; 
             var entire_region_points = [[-50,725905, -0,262841],[-55,039155, -0,604683],[-53,893585, 0,284479],[-53,886683, -6,486172],[-49,961391, -0,827133],[-51,301278, -3,997185],[-46,507416, -1,104712],[-56,016298, -3,667215],[-50,181767, -2,373143],[-54,992850, -3,191127],[-46,763581, -1,193086],[-52,685405, -3,292106],[-49,371220, -3,733484],[-50,628146, -1,120905],[-46,443214, -1,988674],[-49,837892, -0,032401],[-49,512708, -8,182491],[-51,221037, -8,458172],[-49,988034, -1,583462],[-55,113491, -1,845743],[-47,898112, -4,186576],[-57,805908, -1,159150],[-49,005718, -4,027193],[-51,553921, -1,149438],[-56,496715, -5,871135],[-57,302705, -7,445287],[-56,221390, -2,622889],[-47,497441, -0,810135],[-53,194998, -3,160213],[-51,103864, -1,607632],[-54,575153, -3,070440],[-54,353049, -1,074400],[-55,612026, -8,062277],[-55,674865, -0,169646],[-49,902330, -2,278919],[-57,149825, 0,254980],[-51,430936, -7,520545],[-50,631681, -3,684126],[-54,500659, -3,889824],[-50,955624, -2,565429],[-52,547751, -2,184593],[-53,660172, -2,120245],[-47,131474, -0,952687],[-47,015531, -0,860089],[-50,198124, -8,069329],[-55,210740, -4,241043],[-47,351702, -0,683955],[-49,313859, -0,583350],[-50,314370, -8,633788],[-50,611282, -9,364056],[-55,238455, -2,679336],[-52,252698, -7,233365],[-47,217873, -0,783801],[-49,680283, -1,434118],[-51,773849, -4,169711],[-48,697751, -0,447918],[-56,458424, -1,951503],[-46,938977, -1,040967],[-56,003467, -5,130225],[-51,391386, -6,820196],[-49,821134, -3,856279],[-53,807336, -3,583616],[-46,453033, -1,523163],[-51,973974, -3,135268]]; 
             var display_stats = {};
 			function inViewport(el) {
                 var elH = jQuery(el).outerHeight(), H = jQuery(window).height(), r = jQuery(el)[0].getBoundingClientRect(), t = r.top, b = r.bottom;
                 return Math.max(0, t > 0 ? Math.min(elH, H - t) : (b < H ? b : H));
             }
             function showGraph() { 
                var region = jQuery('#id_zoom_cluster_region').is(':checked') ? jQuery.extend({}, cluster_region) : jQuery.extend({}, entire_region); 
                var row = jQuery('.row'); 
                var options_div = jQuery('.chart-options-section'); 
                var dimension;
                if (jQuery('#id_fit_graph_viewport').is(':checked'))
                   dimension = Math.max(jQuery(window).height() - jQuery('#id_banner').height(), inViewport('.row')) - 50;
                else
                  dimension = Math.max(jQuery(row).width() - jQuery(options_div).width() - 100, jQuery(options_div).width() - 50);
                jQuery('.chart-column').html("<div id = 'chartContainer' name = 'chartContainer' style = 'margin-left: 20px;'></div>"); 
                chart = new Chart.Bubble('chartContainer', {zmin:region.zmin,zmax:region.zmax,xsteps:region.xsteps,ysteps:region.ysteps,bubbleSize:region.bubbleSize,xmin:region.xmin,xmax:region.xmax,ymin:region.ymin,ymax:region.ymax,width:dimension,height:dimension,
                                         title: jQuery('.title-setter').val() || 'Cartesian Coordinates Map',
                                         points_mouseoveronly: false, 
                                         x_sinusoidal_factor: 0,999300, 
                                         showGrid:document.getElementById('id_show_grid_lines').checked, 
                                         showAxes:document.getElementById('id_show_axes').checked});  
                 display_stats = {displayed_clusters: 0, displayed_cluster_points: 0, displayed_points: 0};
                 jQuery.each(clusters, function(i, c) { 
                     var add = true;
                     if (parameters.scanrate == 3) {
                         if (jQuery('#id_view_high').is(':checked')) add &= (c.highrate == true);
                         if (jQuery('#id_view_low').is(':checked')) add &= (c.highrate == false);
                     }
                     if (jQuery('#id_hierarchical').is(':checked') && jQuery('#id_gini').is(':checked')) add &= (c.hierarchical == true && c.gini == true);
                     else if (jQuery('#id_hierarchical').is(':checked')) add &= (c.hierarchical == true);
                     else if (jQuery('#id_gini').is(':checked')) add &= (c.gini == true);
                     else add &= true;
                     if (jQuery('#id_view_significant').is(':checked')) add &= (c.significant == true);
                     if (add && jQuery('#id_cluster_circles').is(':checked')) {
                         if (c.ellipse)
                             chart.addEllipticBubble(c.id, c.x, c.y, c.z, c.semimajor, c.angle, c.shape, c.color, c.tip);
                         else
                             chart.addBubble(c.id, c.x, c.y, c.z, c.color, c.tip, c.edges);
                         display_stats.displayed_clusters++;
                     }
                     if (add && jQuery('#id_cluster_locations').is(':checked')) {
                         chart.addPoints(c.id, c.points, c.pointscolor);
                         display_stats.displayed_cluster_points += c.points.length;
                         display_stats.displayed_points += c.points.length;
                     } else if (jQuery('#id_show_location_points').is(':checked')) {
                         chart.addPoints(0, c.points, '#00001a');
                         display_stats.displayed_points += c.points.length;
                     }
                 });
                 if (jQuery('#id_show_location_points').is(':checked')) {
                     if (jQuery('#id_zoom_cluster_region').is(':checked')) {
                         chart.addPoints(0, cluster_region_points, '#00001a'); 
                         display_stats.displayed_points += cluster_region_points.length; 
                     } else {
                         chart.addPoints(0, entire_region_points, '#00001a');
                         display_stats.displayed_points += entire_region_points.length;
                     }
                 }
                jQuery('#id_cluster_count').html(display_stats.displayed_clusters); 
                jQuery('#id_cluster_point_count').html(display_stats.displayed_cluster_points); 
                jQuery('#id_point_count').html(display_stats.displayed_points); 
                chart.drawLabels(); 
                chart.redraw(); 
             } 
             window.addEvent('domready', function(){ 
                try { 
                     if ( clusters.every(function(c) { return c.significant == false; }))
                         jQuery('#id_view_all').prop('checked', true);
                     //if ( clusters.every(function(c) { return c.hierarchical == false; }))
                     //    jQuery('#id_hierarchical').prop('checked', false);
                     //if (clusters.every(function(c) { return c.gini == false; }))
                     //    jQuery('#id_gini').prop('checked', false);
                     jQuery('#id_rates_option').toggle(parameters.scanrate == 3);
                     jQuery('#id_secondary_clusters_option').toggle(parameters.giniscan);
                     showGraph();
                     jQuery('.options-row :input').on('click', function(){ showGraph(); });
                     jQuery('.title-setter').keyup(function() { showGraph(); });
                     jQuery(window).resizeend(function() { showGraph(); });
                     jQuery('#print_png').on('click', function(){
                         var filename = chart.options.title || 'cluster-graph';
                         chart.canvas.toBlob(function(blob) {
                             saveAs(blob, filename + '.png');
                         });
                         return false;
                     });
                } catch (error) { 
 				   jQuery('#load_error').html('There was a problem loading the graph. Please <a href="mailto:techsupport@satscan.org?Subject=Graph%20Error" target="_top">email</a> technical support and attach the file:<br/>' + window.location.href.replace('file:///', '').replace(/%20/g, ' ') ).show(); 
              	   throw( error ); 
                 } 
             }); 
         </script> 
     </head> 
     <body style="margin:0;background-color: #fff;"> 
         <table id="id_banner" width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#F8FAFA" style="border-bottom: 3px double navy;"> 
         <tbody><tr> 
         <td width="120" align="center" bgcolor="#DBD7DB"><img src="https://www.satscan.org/images/swe2.jpg" alt="&Ouml;stersund map" title="&Ouml;stersund map" width="120" height="115" hspace="1" border="0"></td> 
         <td align="right" bgcolor="#D4DCE5"><img src="https://www.satscan.org/images/satscan_title2.jpg" alt="SaTScan&#0153; - Software for the spatial, temporal, and space-time scan statistics" title="SaTScan&#0153; - Software for the spatial, temporal, and space-time scan statistics" width="470" height="115"></td> 
         <td width="25%" bgcolor="#F8FAFA" align="right"><img src="https://www.satscan.org/images/nyc2.jpg" alt="New York City map" title="New York City map" width="112" height="115" hspace="1" border="0" align="middle"></td> 
         </tr></tbody></table> 
 		<div id="load_error" style="color:#101010; text-align: center;font-size: 1.2em; padding: 20px;background-color: #ece1e1; border: 1px solid #e49595; display:none;"></div> 
     <div class="container-fluid main-content"> 
         <div class="row"> 
             <div class="col-md-3 chart-options-section"> 
                 <fieldset> 
                 <div class="options-row"> 
                     <label class="option-section" for="title_obs">Title</label> 
                     <div>
                         <input type="text" style="width:95%;padding:1px;" class="title-setter" id="title_obs" value="Cartesian Coordinates Map"> 
                         <p class="help-block">Title can be changed by editing this text.</p> 
                     </div> 
                 </div> 
                 <div class="options-row"> 
                     <label class="option-section" for="title_obs">Print</label> 
                     <div class="print-section"> 
                         <a href="#" onclick="javascript:window.print();return false;"><span class="glyphicon glyphicon-print" aria-hidden="true"></span> Print</a> 
                         <a href="#" id="print_png"><span class="glyphicon glyphicon-picture" aria-hidden = "true"></span> Save Image</a> 
                     </div> 
                 </div> 
                 <div class="options-row"> 
                     <div id="id_significance_option">
                         <label><input type="radio" name="view_significance" id="id_view_significant" value="entire" checked=checked />Significant clusters</label>
                         <label><input type="radio" name="view_significance" id="id_view_all" value="cluster" />All clusters</label>
                         <p class="help-block">Toggle display between significant and all clusters.</p>
                     </div>
                     <div id="id_rates_option"> 
                         <label><input type="radio" name="view_rate" id="id_view_highlow" value="entire" checked=checked />High and low clusters</label>
                         <label><input type="radio" name="view_rate" id="id_view_high" value="cluster"/>High only</label>
                         <label><input type="radio" name="view_rate" id="id_view_low" value="cluster"/>Low only</label>
                         <p class="help-block">Toggle display of clusters for scan rate.</p>
                     </div> 
                     <div id="id_secondary_clusters_option"> 
                         <div>Secondary Clusters:</div>
                         <label style="margin-left:15px;"><input type="checkbox" id="id_hierarchical" value="secondary" />Hierarchical</label>
                         <label style="margin-left:15px;"><input type="checkbox" id="id_gini" value="secondary" />Gini</label>
                         <p class="help-block">Display options for secondary clusters.</p>
                     </div> 
                     <div>Show clusters using:</div>
                     <label style="margin-left:15px;"><input type="checkbox" id="id_cluster_circles" value="cluster" checked=checked />Circles / Ellipses</label>
                     <label style="margin-left:15px;"><input type="checkbox" id="id_cluster_locations" value="cluster" />Locations</label>
                     <p class="help-block">Display options for clusters.</p>
                     <div id="id_zoom_cluster_option" style="display:block;">
                     <label><input type="checkbox" id="id_zoom_cluster_region"/>Zoom in on cluster region</label>
                     <p class="help-block">Focus grid region on reported clusters.</p>
                     </div>
                     <label><input type="checkbox" id="id_show_grid_lines" checked=checked />Show grid lines</label>
                     <p class="help-block">Toggle display of graph grid lines.</p>
                     <label><input type="checkbox" id="id_show_axes" checked=checked />Show x and y axes</label>
                     <p class="help-block">Toggle display of graph x / y axes.</p>
                     <label><input type="checkbox" id="id_show_location_points" checked=checked />Show all location points</label>
                     <p class="help-block">Toggle display of location points.</p>
                     <label><input type="checkbox" id="id_fit_graph_viewport" />Fit graph to viewport</label>
                     <p class="help-block">Attempts to keep entire graph in view.</p>
                 </div> 
                 <div id="id_display_count">
                     <fieldset>
                             <legend style="font-size:14px; margin-bottom:0;">Display Data:</legend>
                             <div><span id="id_cluster_count"></span> Clusters</div>
                             <div><span id="id_cluster_point_count"></span> Cluster Locations</div>
                             <div><span id="id_point_count"></span> Total Locations</div> 
                     </fieldset>
                 </div>
                 </fieldset> 
                 <div style="font-style:italic; font-size:smaller;">Generated with SaTScan v10.0</div>
             </div> 
             <div class="col-md-9 chart-column"> 
                 <div id='chartContainer' name='chartContainer'></div> 
             </div> 
         </div> 
      </div> 
      </body> 
 </html> 


